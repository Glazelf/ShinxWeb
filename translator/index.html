<html>
<head>
	<script>
		let inAlphabet = {};
		let outAlphabet = {};
		
		function parseAlphabet(input, caseSensitive) {
			inAlphabet = {' ': ' '};
			outAlphabet = {' ': ' '};
			
			let lines = input.split("\n");
			for (let i = 0; i < lines.length; i++) {
				let parts = lines[i].split('-');
				
				if (!parts[0] || !parts[1])
					continue;
				
				let human = parts[0].trim();
				let shinx = parts[1].trim().toLowerCase();
				
				if (human == '')
					human = ' ';
				
				if (!caseSensitive)
					human = human.toUpperCase();
				
				inAlphabet[human] = shinx;
				outAlphabet[shinx] = human;
			}
		}
		
		function translate(input, alphabet, caseSensitive) {
			var result = '';
			
			do {
				let found = false;
				for (let key in alphabet) {
					let match = caseSensitive
						? input.indexOf(key) == 0
						: input.toLowerCase().indexOf(key.toLowerCase()) == 0;
					
					if (match) {
						input = input.substring(key.length);
						result += alphabet[key];
						found = true;
						break;
					}
				}
				
				if (!found) {
					result += input[0];
					input = input.substring(1);
				}
			} while(input.length > 0);
			
			return result;
		}
		
		function toShinx() {
			let alphabet = document.getElementById('alphabet').value;
			let caseSensitive = document.getElementById('case-sensitive').checked;
			parseAlphabet(alphabet, caseSensitive);
			
			let input = document.getElementById('input').value;
			let output = translate(input, inAlphabet, caseSensitive);
			document.getElementById('output').value = output;
		}
		
		function toHuman() {
			let alphabet = document.getElementById('alphabet').value;
			let caseSensitive = document.getElementById('case-sensitive').checked;
			parseAlphabet(alphabet, caseSensitive);
			
			let input = document.getElementById('input').value;
			let output = translate(input, outAlphabet, caseSensitive);
			document.getElementById('output').value = output;
		}
	</script>
</head>
<body>
	<textarea id="alphabet" cols="100" rows="12">
0 - :shinxtired::shinxtired:
1 - :shinxtired::shinxsad:
2 - :shinxtired::shinxpain:
3 - :shinxtired::shinxhappy:
4 - :shinxtired::shinxdizzy:
5 - :shinxtired::shinxdissapoint:
6 - :shinxtired::shinxcry:
7 - :shinxtired::shinxcheer:
8 - :shinxtired::shinxangory:
9 - :shinxtired::shinnix:
A - :shinxsad::shinxtired:
B - :shinxsad::shinxsad:
C - :shinxsad::shinxpain:
D - :shinxsad::shinxhappy:
E - :shinxsad::shinxdizzy:
F - :shinxsad::shinxdissapoint:
G - :shinxsad::shinxcry:
H - :shinxsad::shinxcheer:
I - :shinxsad::shinxangory:
J - :shinxsad::shinnix:
K - :shinxpain::shinxtired:
L - :shinxpain::shinxsad:
M - :shinxpain::shinxpain:
N - :shinxpain::shinxhappy:
O - :shinxpain::shinxdizzy:
P - :shinxpain::shinxdissapoint:
Q - :shinxpain::shinxcry:
R - :shinxpain::shinxcheer:
S - :shinxpain::shinxangory:
T - :shinxpain::shinnix:
U - :shinxhappy::shinxtired:
V - :shinxhappy::shinxsad:
W - :shinxhappy::shinxpain:
X - :shinxhappy::shinxhappy:
Y - :shinxhappy::shinxdizzy:
Z - :shinxhappy::shinxdissapoint:
a - :shinxhappy::shinxcry:
b - :shinxhappy::shinxcheer:
c - :shinxhappy::shinxangory:
d - :shinxhappy::shinnix:
e - :shinxdizzy::shinxtired:
f - :shinxdizzy::shinxsad:
g - :shinxdizzy::shinxpain:
h - :shinxdizzy::shinxhappy:
i - :shinxdizzy::shinxdizzy:
j - :shinxdizzy::shinxdissapoint:
k - :shinxdizzy::shinxcry:
l - :shinxdizzy::shinxcheer:
m - :shinxdizzy::shinxangory:
n - :shinxdizzy::shinnix:
o - :shinxdissapoint::shinxtired:
p - :shinxdissapoint::shinxsad:
q - :shinxdissapoint::shinxpain:
r - :shinxdissapoint::shinxhappy:
s - :shinxdissapoint::shinxdizzy:
t - :shinxdissapoint::shinxdissapoint:
u - :shinxdissapoint::shinxcry:
v - :shinxdissapoint::shinxcheer:
w - :shinxdissapoint::shinxangory:
x - :shinxdissapoint::shinnix:
y - :shinxcry::shinxtired:
z - :shinxcry::shinxsad:
  - :shinnix::shinxtired:
. - :shinnix::shinxsad:
, - :shinnix::shinxpain:
! - :shinnix::shinxhappy:
? - :shinnix::shinxdizzy:
' - :shinnix::shinxdissapoint:
" - :shinnix::shinxcry:
& - :shinnix::shinxcheer:
- - :shinnix::shinxangory:
: - :shinnix::shinnix:
	</textarea>
	<br />
	<textarea id="input" cols="100" rows="12"></textarea>
	<br />
	<button onclick="toShinx()">To Shinx</button>
	<button onclick="toHuman()">To Human</button>
	<label><input type="checkbox" id="case-sensitive" checked /> Case Sensitive</label>
	<br />
	<textarea id="output" cols="100" rows="12"></textarea>
</body>
</html>